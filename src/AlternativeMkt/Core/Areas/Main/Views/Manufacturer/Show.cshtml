@inject ServerConfig config
@inject IViewLocalizer text
@model ManufacturerShowData

<section class="row text-center mb-2">
    <h1 class="col-12 display-5">@Model.Manufacturer.User.Name</h1>
    <h2 class="col-12 display-7">@Model.Manufacturer.Server.Name</h2>
    <div>
        @foreach(var account in Model.Manufacturer.User.GameAccounts) {
            <span class="badge bg-info">@account.Name</span>
        }
    </div>
</section>

<section class="row justify-content-center">
    @foreach(var price in Model.Prices.Data) {
        <div class="col mb-2">
            <div class="card" style="width: 12rem;">
                @if (@price.Item.Asset is not null) {
                    <img src="@config.AssetsUrl/@price.Item.Asset.Endpoint" class="card-img-top"/>
                }
                <div class="card-header">
                    @price.Item.Name
                    Level: @price.Item.Level
                    <div>
                        @foreach(var itemAttribute in price.Item.Attributes) {
                            <span class="badge bg-warning">
                                @itemAttribute.Attribute.Name -
                                @itemAttribute.Value
                            </span>
                        }
                    </div>
                </div>
                <div class="card-body">
                    <div>@text["CraftPriceLabel"]: @price.Price</div>
                    <div>@text["TotalPriceLabel"]: @price.TotalPrice</div>
                </div>
                <div class="card-footer" style="padding: 0px;">
                    <a
                        class="btn btn-primary w-100 rounded-0"
                        asp-controller="Request"
                        asp-action="Open" 
                        asp-route-id="@price.Id"
                        asp-route-manufacturerId="@price.ManufacturerId"
                    >
                        Open
                    </a>
                </div>
            </div>
        </div>
    }
</section>

<section>
    Pagination
</section>